# SPDX-License-Identifier: AGPL-3.0-or-later
# Copyright (C) 2026 Relational Network

# Copy this file to .env and fill in your values.

# =============================================================================
# Clerk Authentication (REQUIRED for production, optional for dev)
# =============================================================================
# Get these from https://dashboard.clerk.com â†’ API Keys
# When these are set, JWT signatures are verified against Clerk JWKS.
# CLERK_ISSUER is REQUIRED when CLERK_JWKS_URL is set (server will panic without it).

CLERK_JWKS_URL=https://<your-clerk-instance>.clerk.accounts.dev/.well-known/jwks.json
CLERK_ISSUER=https://<your-clerk-instance>.clerk.accounts.dev

# Optional: Expected JWT audience claim
# CLERK_AUDIENCE=

# =============================================================================
# CORS Configuration
# =============================================================================
# Comma-separated list of allowed origins for production.
# If unset, permissive CORS is used (development only).
# Example: CORS_ALLOWED_ORIGINS=https://app.example.com,https://staging.example.com
CORS_ALLOWED_ORIGINS=http://localhost:3000

# =============================================================================
# Server Configuration (defaults shown)
# =============================================================================
# HOST=0.0.0.0
# PORT=8080
# DATA_DIR=/data
# LOG_FORMAT=pretty
# RUST_LOG=info,tower_http=debug

# =============================================================================
# TrueLayer Sandbox (Fiat On/Off-Ramp)
# =============================================================================
# Required for live sandbox fiat flows:
# - client credentials from TrueLayer Console
# - OAuth app must include `payments` scope (used for both payment and payout APIs)
# - signing key id + private key (PEM)
# - merchant account id
#
# Required for off-ramp payout:
# - account holder name + IBAN

# TRUELAYER_CLIENT_ID=
# TRUELAYER_CLIENT_SECRET=
# TRUELAYER_SIGNING_KEY_ID=
# TRUELAYER_SIGNING_PRIVATE_KEY_PATH=/run/secrets/truelayer_private_key.pem
# Alternative inline secret:
# TRUELAYER_SIGNING_PRIVATE_KEY_PEM="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----"
# TRUELAYER_MERCHANT_ACCOUNT_ID=
# On-ramp return URI is hardcoded to `http://localhost:3000/callback`.
# Off-ramp beneficiary details are supplied per request from the frontend dialog.
#
# Optional overrides (defaults point to sandbox):
# TRUELAYER_API_BASE_URL=https://api.truelayer-sandbox.com
# TRUELAYER_AUTH_BASE_URL=https://auth.truelayer-sandbox.com
# TRUELAYER_HOSTED_PAYMENTS_BASE_URL=https://payment.truelayer-sandbox.com
# TRUELAYER_CURRENCY=EUR

# =============================================================================
# Fuji Reserve Wallet Fiat Settlement
# =============================================================================
# Required for reserve-based fiat settlement:
REUR_CONTRACT_ADDRESS_FUJI=0x76568BEd5Acf1A5Cd888773C8cAe9ea2a9131A63

# Optional reserve automation controls:
# FIAT_RESERVE_BOOTSTRAP_ENABLED=true
# FIAT_RESERVE_INITIAL_TOPUP_EUR=1000000.00
# FIAT_MIN_CONFIRMATIONS=1
